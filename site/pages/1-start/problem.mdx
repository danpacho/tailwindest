import { Callout } from "nextra-theme-docs"
import { Underline } from "~components/common"

# Problems of tailwind

## 1. Type-safety

The biggest problem of `tailwind` is **type safety**.

Although `Tailwindcss Intellisense` plugin solve this problem with **autocompletion magicðŸ”®**, **you can't never typecheck classname in _runtime_ or _build_ process**.

```tsx {2} filename="will-not-throw-error.tsx"
const SomeComponent = ({ children }) => (
    <div className="flex felx-row">{children}</div>
)
```

In this super simple example, **`Tailwindcss Intellisense` can't not blame `felx`, which is `flex`**.

Because it might be some class name.

---

## 2. Reusing classnames

> `tailwindcss` official docs, [**reusing styles**](https://tailwindcss.com/docs/reusing-styles)

The method of **reusing styles** by tailwind labs.

1. Use **editor or framework's features**
    - use multi-cursor editing
    - use loops in framework
2. **Extract styles into component level**
3. Extract reusable class with [**`@apply`**](https://twitter.com/adamwathan/status/1226511611592085504)

<Callout>
    Summary: **separate styles by `component` level and use `vscode` keyboard
    shortcuts**.
</Callout>

In fact, reusing `tailwind` classes over `component` is not a huge problem.

**The main problem is the reusing of `tailwind` classes.**
Right at this point, **`@apply`** appears.
`@apply`, give the set of `tailwind` classes to another class and then reuse them.

```css {2-3} filename="tailwind.css"
@layer components {
    .btn-primary {
        @apply py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75;
    }
}
```

Reuse classname

```tsx {2}
const PrimaryButton = () => (
    <button className="btn-primary">Oh Button primary</button>
)
```

But if you've used `@apply`, you'll see that **it's like adding another layer of _abstraction_ over the `tailwind`'s _abstraction_**.

---

## 3. Long long... `className`

If the number of Tailwind classes exceeds `10`(_personal opinion_), **readability becomes gradually problematic**.
And things going mess further, **if break conditions(_`dark`, `hover`_, ...) is more added in sing line**.

```tsx {2}
const Box = ({ children } => (
    <div className="flex items-center justify-center p-4 m-4 bg-white rounded-md md:p-6 md:m-6 hover:bg-neutral-50 dark:bg-neutral-900 dark:hover:bg-neutral-800">
        {children}
    </div>
))
```

This fundamental problem of `tailwindcss` will become as technical debt when refactoring is needed over time.
**You may have to read through all the `classNames` slowly**.

### Split classnames

<Callout>
    Hey! Just use `clsx` or `classnames` and split your `className`!
</Callout>

Making a new line for the `className` element can be a good choice in terms of readability.

```tsx {1, 6-10}
import clsx from "clsx"

const Box = ({ children } = (
    <div
        class={clsx(
            "flex items-center justify-center",
            "p-4 m-4 bg-white rounded-m",
            "md:p-6 md:m-6",
            "hover:bg-neutral-50",
            "dark:bg-neutral-900 dark:hover:bg-neutral-800"
        )}
    >
        {children}
    </div>
))
```

However, it is a hassle to install packages (_although some are available for **conditional styling**_) for line splitting. In addition, **the category of classname must be separated and created based on the developer's own judgment**.

---

## Then what is project goals?

**Make `tailwind`**

1. <Underline>Fully-typed</Underline>

2. <Underline>Readable</Underline>

3. <Underline>Reusable</Underline>

<br />

<Callout>Let's solve these problems</Callout>
