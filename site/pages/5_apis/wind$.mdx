import { Callout } from "nextra-theme-docs"

# `wind$` - conditional styling

## Briefly

Core style generator `function` to handle various conditions.

## 1. Type Definition

```ts
declare const wind$: <Variant extends string>(
    ...variantNames: Variant[]
) => (
    style: Tailwindest,
    variantsStyles: VariantsStyles<Variant, Tailwindest>
) => {
    class: (variant?: VariantsList<Variant>) => string
    style: (variant?: VariantsList<Variant>) => Tailwindest
    compose: (...styles: Tailwindest[]) => {
        class: (variant?: VariantsList<Variant>) => string
        style: (variant?: VariantsList<Variant>) => Tailwindest
    }
}
```

## 2. Spec

### Usage

```ts
wind$(...variantNames)(style, variantsStyles)
```

### Parameter: `...variantNames`

-   type: `Array<string>`
-   usage: **Define type of variants name**

### Example

1. List of **`string`** argument

```ts {2-5}
const button = wind$(
    "warning",
    "pending",
    "disabled",
    "success"
)(/* variant style */)
```

2. `Array<string> as const` with spread (`...string[]`) operator

```ts
const buttonVariants = ["warning", "pending", "disabled", "success"] as const

const button = wind$(...buttonVariants)(/* variant style */)
```

### Parameter: `style`

-   type: `Tailwindest`
-   usage: Define **base** or **common** `styleSheet` of variants

### Example

The first `styleSheet` factor, `style`, has two ways of using it.

1. **Use as default _variant_ style**

<Callout type="info">
    **Use it, if `defaultVariant` is not explicitly defined**
</Callout>

```ts {6-11}
const button = wind$("warning", "success")(
    {
        /* default button style */
    },
    {
        success: {
            /* success button style */
        },
        warning: {
            /* warning button style */
        },
    }
)
```

2. **Use as a _common_ style**

<Callout type="info">
    **Use it, if `defaultVariant` is explicitly defined**
</Callout>

```ts {2, 19}
const button = wind$(
    "default",
    "warning",
    "success"
)(
    {
        /* common button style */
    },
    {
        default: {
            /* default button style */
        },
        success: {
            /* success button style */
        },
        warning: {
            /* warning button style */
        },
        defaultVariant: "default",
    }
)
```

<Callout type="info">
    
    What is `defaultVariant`?

    **The default factor for `variant`**

    ```ts {3-4}
    // follow previous code example

    const same1 = button.class("default")
    const same2 = button.class()
    // same
    ```

</Callout>

### Parameter: `variantsStyles`

-   type: `VariantsStyles<Variant, Tailwindest>`
-   usage: Define **variant** `styleSheet`

### Example

Define **variant** `styleSheet`

```ts {9-10, 13-14}
const button = wind$("warning", "success")(
    {
        // default button styles
        backgroundColor: "bg-white",
        // ...more default styles
    },
    {
        success: {
            backgroundColor: "bg-green-100",
            // ...more success variant styles
        },
        warning: {
            backgroundColor: "bg-red-100",
            // ...more warning variant styles
        },
    }
)
```

## 3. Returns

_internally `wind` and `wind$` share same core function._

### `class`

#### Briefly

**Returns `className` `string`**

#### Usage

```ts
wind$(...variantNames)(style, variantsStyles).class()
```

<Callout type="info">
    **Argument will be typed as given variants `string`**
</Callout>

#### Example

```ts /class/
const defaultButtonClass = button.class()

const warningButtonClass = button.class("warning")

const successButtonClass = button.class("success")
```

### `style`

#### Briefly

**Returns input `styleSheet` `object`**

#### Usage

```ts /style/
wind$(...variantNames)(style, variantsStyles).style()
```

#### Example

```ts /style/
const defaultButtonStyle = button.style()

const warningButtonStyle = button.style("warning")

const successButtonStyle = button.style("success")
```

### `compose`

#### Briefly

**Compose `styleSheet` `object`**

<Callout type="info">
    Performs the **almost same** function as `compose` in `wind`, **except
    variant's `styleSheet`**.

    **Remember that variant's `styleSheet` has top priority.**

    ```ts {7-10}
    const willBeFlex = wind$("shouldBeFlex")(
        {
            // will be override like wind's compose
            display: "hidden",
        },
        {
            shouldBeFlex: {
                // will not be override unlike wind's compose
                display: "flex",
            },
        }
    ).compose({
        display: "grid",
    })

    const IAmFlexMan = willBeFlex.style("shouldBeFlex")
    /*
    {
        display: "flex",
    }
    */
    ```

    `display` is derived from the value of `flex` of variable in `shouldBeFlex`

    In other words, the variant's `styleSheet` will overwrite the argument of `compose` `...styleSheet`.

</Callout>
